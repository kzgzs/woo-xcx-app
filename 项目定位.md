## 做一个wp插件。WooCommerce小程序app

### *功能要求描述*

本插件无需调用 *WooCommerce REST API*，而是直接通过 **WooCommerce 原生 PHP 函数** 获取站点数据，包括：商品列表、商品详情、商品分类、商品标签、订单、价格、库存、优惠券、活动、物流等内容。

插件将数据以 JSON 格式提供给前端 Vue 页面使用，支持站长在后台通过可视化拖拽方式自由设计页面结构，并实时预览，生成完整的 uni-app 页面模板结构项目。

设计完成后可一键导出项目代码包，支持使用 HBuilderX 或各类开发工具编译生成以下平台应用：

- 微信公众号
- 微信小程序
- 抖音小程序
- 支付宝小程序
- QQ小程序
- 百度小程序
- 快手小程序
- 京东小程序
- 小红书小程序
- 手机H5
- 原生 APP
- 鸿蒙 App

------

插件需要创建的主要菜单页面及详细功能

*插件后台菜单页面：*

#### 平台设置

可与微信公众号，微信小程序，抖音小程序等各种小程序及手机H5和APP等相关绑定配置，如APPID，AppSecret，平台公众号的名称，IP白名单，业务域名，js接口安全域名，网页授权域名，配置服务器域名，URL(服务器地址)，Token(令牌)，EncodingAESKey(消息加密密钥，消息加解密方式等。小程序叫配置消息推送。和微信平台那边一样，达成数据相通。还有各种接口对接，各种消息模板等，微信公众号和微信小程序可以手动绑定设置，或扫描绑定(需要在微信开放平台开通第三方平台)。其它平台设置可设置和平台方的必要数据一样。

#### 页面列表

是站长在设计页面创建的uni-app项目的多个页面列表，如首页，商品，文章，视频，我的等主要页面，当然，也有其它页面，如表单页面，或选项卡页面等，这些页面可以被拉取到主要页面中。站长可以随时编辑复制删除这些页面。点击编辑按钮即可进入页面设计。

#### 页面设计

===具体UI布局请参考\参考页面\页面设计===

是详细的可视化拖拽页面，整个编辑页面分四部分：顶部，左边显示页面设计标题，靠右边显示预览(就是在实际浏览器运行当前效果)，保存(可以保存当前的页面到页面列表)，关闭(点击可返回页面列表)三个按钮；主要部分包含左侧的组件库；中间的预览拖拽画布(中间有个自适应手机框)；右侧是每个组件对应的不同功能属性设置。

######      ●组件库

上方可有一个组件搜索功能，下方是三组组件，每组可有展开收合功能，1，基础组件：公告；宫格；图标库；轮播图；搜索框；店招；视频；音乐；单图；多图；图片魔方；热区；标题；文本；富文本；按钮；按钮导航；列表导航；悬浮按钮；辅助线；辅助空白；选项卡；地图。2商品组件：商城商品；积分兑换；拼团商品；周期购商品；砍价商品；秒杀商品；团购商品；幸运拼团；餐饮菜品；预约服务；课程列表；商户；酒店列表；房型列表。其它组件：文章列表；优惠券；会员信息；短视频；小程序直播；视频号直播，表单；约车列表；小程序广告。

######     ●可视化预览拖拽画布

点击或拖动组件会出现在画布区，第一个组件拖入画布时，默认的应该宽度是自适应画布的，默认高度与上方的距离是0px，可以由拖动条控制与上方的距离。再添加下一个组件，是挨着上一个组件自动排在下方的，当然可以自由拖拽顺序。选定组件时可以有移除功能。

######     ●功能属性

是选定了每个组件时所对应的不同功能的操作设置，如选定搜索框时，有提示文字，可输入关键字搜索您感兴趣的商品，文字颜色选择器，边框颜色，背景颜色，搜索框圆角度可由拉动条控制，跳转链接输入，等等，每个组件对应的属性都不一样，比如视频组件，与上方距离，由拉动条控制，视频高度和宽度，商品来源，可选择上传后显示有链接，可选择视频ID，从视频管理中选择视频，视频封面自定义上传，背景颜色选择器，播放方式有点击播放和自动播放，循环播放关闭和开启，静音播放关闭和开启，播放控件显示和隐藏，全屏按钮显示和隐藏，表现形式有包含、填充、覆盖。每个组件属性下方有显示平台，可选择当前组件在各平台显示或不显示，如所有平台，微信公众号，微信小程序，抖音小程序，手机H5，手机APP等，取决与此插件可以支持多少平台。

#### 页面分类页

就是为你设计的页面进行分类，添加页面分类，分类名称，序号，状态显示和隐藏。

#### 底部导航

===具体UI布局请查阅\参考页面\菜单设计(即底部导航)===

就是手机H5或小程序APP底部固定*菜单的设计页面*，整个页面有顶部选择：微信公众号，微信小程序，抖音小程序，手机H5，手机APP等选择，取决与分配多少个平台。主要部分，左边是画布预览区，可实时预览底部菜单的设计变化。右边是菜单选择，上方显示菜单个数，可选：无；两个；三个；四个；五个。下面是菜单一；菜单二；菜单三；菜单四；菜单五，每个菜单有名称，有链接或选择链接，有图标，默认图标和选中图标。下方有文字默认颜色，文字选中颜色，菜单背景颜色，中间按钮突出关闭与开启，同步到其它端，是或否。最后保存。

#### 商品详情

===具体UI布局详见\参考页面\商品详情页设置===

就是商品的详情页面设计，主要是商品详情特定的底部固定菜单，和拼多多淘宝的一样，显示客服，购物车，收藏，然后是加入购物车和立即购买。参照拼多多或淘宝app的商品详情的底部固定菜单。

#### 登录页面

===具体UI布局详见\参考页面\登录页面设置===

就是比如小程序的普通用户登录页面的具体设置设计。欢迎语标题内容，居左居中居右，背景颜色或背景图片选择，整个卡片背景颜色。登录按钮颜色，手机号登录，授权登录(就是平台登录，如微信登录)。手机号登录。协议政策提示文字我已阅读并同意。

#### 链接地址

===具体UI布局详见\参考页面\链接地址===

就是woo的内容链接，属于内置弹窗页面，比如商品分类，商城商品，各种团购秒杀商品，商户，什么领券中心等等应该有的各种功能链接，在设计页面的时候点击+号会弹出各种文字按钮，便于设计选择，选择后会出现在跳转链接的地址栏，此种链接不带http(s)，做小程序的都知道，如/pages/my/usercenter  ，代表用户中心或我的页面。

#### 媒体库

具体UI布局

属于内置弹窗，服务于本插件所有设计页面的图片和图标选择器。比如可视化设计页那部分，如拖入某组件，只要属性里涉及添加图片或图标，添加+号或添加图片就会弹出图片和图标的固定弹窗，图片选项有已上传或将要上传的图片，图标库有搜索图标功能，内置有现成各平台的矢量小图标库：千牛，手淘，阿里国际，聚划算，菜鸟，飞猪，天猫，淘宝全球，1688，阿里云等现成的，可以选择使用。

关于媒体库设计思路，使用原生 Layui 弹窗 + JS 渲染，可快速接入现有 WP 插件页面。图标想用（iconfont 字体），图片是自定义上传，不要使用wp媒体库。